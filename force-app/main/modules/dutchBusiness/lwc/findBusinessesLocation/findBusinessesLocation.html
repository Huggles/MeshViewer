<!--
 - Created by Hugo on 20/08/2020.
 -->

<!-- Find Businesses Location -->

<template>
    <div class="slds-grid slds-wrap">
        <div class="slds-col slds-size_2-of-3 slds-large-size_2-of-3 slds-medium-size_1-of-2 slds-small-size_1-of-1  slds-p-horizontal_medium">
            <div class="slds-is-relative">
                <lightning-spinner if:true={loadingMap} ></lightning-spinner>
                <div data-identifier="leafletMap" style="width: 100%; height: 350px; z-index: 0;"> </div>
            </div>

        </div>
        <div class="slds-col slds-size_1-of-3 slds-large-size_1-of-3 slds-medium-size_1-of-2 slds-small-size_1-of-1 slds-p-horizontal_medium slds-grid slds-wrap">
            <article class="slds-card slds-card_boundary slds-size_1-of-1">
                <lightning-tabset active-tab-value={selectedMapLayer}>
                    <lightning-tab label={labels.Province_Label} value={MAP_LAYERS.PROVINCE} onactive={handleTabClick}>
                        <div class="slds-card__body slds-card__body_inner">
                            <table>
                                <template for:each={provincesArray} for:item="province">
                                    <tr key={province.name}>
                                        <td>{province.name}</td>
                                        <td>
                                            <input type="checkbox" name={province.name}
                                                   checked={province.selected}
                                                   data-id={province.id}
                                                   onchange={provinceSelectionChanged}>
                                        </td>
                                    </tr>
                                </template>
                            </table>
                        </div>
                    </lightning-tab>
                    <lightning-tab label={labels.Postal_Code_Label} value={MAP_LAYERS.POSTALCODE} onactive={handleTabClick}>
                        <c-bulk-input input-label={labels.Postal_Code_Label} data-identifier={MAP_LAYERS.POSTALCODE} max-selectable="100"
                                      items={postalCodes} onitemclick={handlePostalCodeClicked}></c-bulk-input>
                    </lightning-tab>

                    <lightning-tab label={labels.City_Label} value={MAP_LAYERS.CITY} onactive={handleTabClick}>
                        <c-bulk-input input-label={labels.City_Label} data-identifier={MAP_LAYERS.CITY} max-selectable="100"
                                      items={cities} onitemclick={handleCityClicked}></c-bulk-input>
                    </lightning-tab>

                </lightning-tabset>

            </article>
        </div>
    </div>

</template>