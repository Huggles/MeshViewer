<!--
 - Created by Hugo on 25/06/2020.
 -->

<!-- Business Positions -->
<template>
    <div class="slds-is-relative">
        <template if:true={isLoading}>
            <lightning-spinner></lightning-spinner>
        </template>
        <template if:false={isLoading}>
            <template if:true={hasFeatureAccess}>
                <c-custom-related-list
                        data-identifier="BusinessPositionRelatedList"
                        parent-record-id={parentRecordId}
                        child-records-object-developer-name="appsolutely__Business_Position__c"
                        child-record-fields="name,appsolutely__Filled_By__c,appsolutely__Filled_By_Id__c"
                        relationship-field="appsolutely__Business_Dossier__c"
                        icon-name="standard:avatar"
                        oncolumnsinitialized={businessPositionRelatedListColumnsInitialized}        >
                </c-custom-related-list>
            </template>

            <template if:false={hasFeatureAccess}>
                <div class="slds-box">
                    <c-no-access-image max-height-in-pixels="150"></c-no-access-image>
                </div>
            </template>
        </template>

    </div>

</template>