<aura:component implements="force:hasRecordId, force:lightningQuickAction"
    access="global">
    <aura:attribute name="searchFields" type="object" default="{}" />
    <aura:attribute name="simpleRecord" type="object" />
    <aura:attribute name="disableSearch" type="Boolean" default="false" />
    <aura:attribute name="error" type="string" />

    <force:recordData aura:id="recordLoader" recordId="{!v.recordId}" targetFields="{!v.simpleRecord}" targetError="{!v.error}"
        recordUpdated="{!c.handleRecordUpdated}" layoutType="FULL" />
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:registerEvent name="dossierSearchSubmitEvent" type="c:dossierSearchSubmitEvent" />
    <aura:registerEvent name="dossierSelectionConfirmedEvent" type="c:dossierSelectionConfirmedEvent"/>
    
    <lightning:card variant="Narrow" title="Search" >
            <aura:set attribute="title">
                    <div class="logoContainer"><img src="{!$Resource.compinfologo}"/></div>
            </aura:set>
        <aura:set attribute="actions">
            <lightning:button class="{!v.disableSearch == false ? 'slds-theme_brand' : 'slds-hide'}" iconPosition="right" variant="brand" type="submit" label="{!$Label.c.BDS_Search_Confirm}"
                 onclick="{!c.onSearchSubmit}"/>
            <lightning:button class="{!v.disableSearch == true ? 'slds-theme_brand' : 'slds-hide'}" iconPosition="right" variant="brand" type="submit" label="{!$Label.c.BDS_Search_Match_Dossier}"
                iconName="utility:forward" onclick="{!c.onMatchDossier}"/>
        </aura:set>
        <div class="slds-text-color_error">{!v.error}</div>

        <div class="slds-m-vertical_medium slds-text-title">{!$Label.c.BDS_Search_Help}</div>

        <div class="slds-form slds-form_horizontal">
            <lightning:input class="slds-p-right_none slds-p-left_none" label="{!$Label.c.BDS_Search_Trade_Name}"
                type="text" variant="standard" value="{!v.searchFields.name}" disabled="{!v.disableSearch}"></lightning:input>
            <lightning:input class="slds-p-right_none slds-p-left_none" label="{!$Label.c.BDS_Search_Dossier_Number}"
                type="text" variant="standard" value="{!v.searchFields.dossier_number}" onchange="{!c.populateDossier}" disabled="{!v.disableSearch}"></lightning:input>
            <lightning:input class="slds-p-right_none slds-p-left_none" label="{!$Label.c.BDS_Search_Phone}"
                type="text" variant="standard" value="{!v.searchFields.phone}" disabled="{!v.disableSearch}"></lightning:input>
            <lightning:input class="slds-p-right_none slds-p-left_none" label="{!$Label.c.BDS_Search_Domain}"
                type="text" variant="standard" value="{!v.searchFields.domain}" disabled="{!v.disableSearch}"></lightning:input>
            <lightning:inputAddress aura:id="Address"
                addressLabel="{!$Label.c.BDS_Search_Address}" streetLabel="{!$Label.c.BDS_Search_Street}"
                cityLabel="{!$Label.c.BDS_Search_City}" provinceLabel="{!$Label.c.BDS_Search_Province}"
                postalCodeLabel="{!$Label.c.BDS_Search_Postal_Code}" countryLabel="{!$Label.c.BDS_Search_Country}"
                country="{!v.searchFields.country}" street="{!v.searchFields.street}" city="{!v.searchFields.city}"
                postalCode="{!v.searchFields.postcode}" province="{!v.searchFields.province}" disabled="{!v.disableSearch}"></lightning:inputAddress>
            <!-- <fieldset class="slds-form-element slds-m-top_medium">
                <legend class="slds-form-element__legend slds-form-element__label">{!$Label.c.BDS_Search_Details}</legend>
                <div class="slds-form-element__control">
                    <div class="slds-checkbox_button-group">
                        <span class="slds-button slds-checkbox_button">
                            <input id="monday" name="checkbox" type="checkbox" value="monday" checked="checked" />
                            <label class="slds-checkbox_button__label" for="monday">
                                <span class="slds-checkbox_faux">{!$Label.c.BDS_Search_Details_Dossier}</span>
                            </label>
                        </span>
                        <span class="slds-button slds-checkbox_button">
                            <input id="tuesday" name="checkbox" type="checkbox" value="tuesday" />
                            <label class="slds-checkbox_button__label" for="tuesday">
                                <span class="slds-checkbox_faux">{!$Label.c.BDS_Search_Details_Legal}</span>
                            </label>
                        </span>
                    </div>
                </div>
            </fieldset> -->
        </div>
    </lightning:card>
</aura:component>